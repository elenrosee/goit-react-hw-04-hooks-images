{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","App.js","Services/apiService.js","index.js"],"names":["Searchbar","onSubmit","useState","request","setRequest","className","e","preventDefault","type","name","autoComplete","onChange","currentTarget","value","autoFocus","placeholder","ImageGallery","children","ImageGalleryItem","images","openModal","map","webformatURL","largeImageURL","tags","onClick","src","alt","uuid","Button","Modal","onClose","modalRoot","document","querySelector","useEffect","window","addEventListener","handeleKeyDown","removeEventListener","code","createPortal","target","App","page","setPage","setImages","loading","setLoading","modalImg","setModalImg","loadMoreBtn","setLoadMoreBtn","searchQuery","fetch","then","response","ok","json","PicturesApiService","addImages","catch","error","alert","finally","scrollTo","top","documentElement","scrollHeight","behavior","hits","length","prevState","trim","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"0ZAIe,SAASA,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAQA,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMJ,SARW,SAACK,GACpBA,EAAEC,iBACFN,EAASE,GACTC,EAAW,KAKqBC,UAAU,aAAxC,UACE,wBAAQG,KAAK,SAASH,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVG,KAAK,OACLC,KAAK,UACLC,aAAa,MACbC,SAAU,SAACL,GACTF,EAAWE,EAAEM,cAAcC,QAE7BA,MAAOV,EACPW,WAAS,EACTC,YAAY,kC,UCxBPC,EAJM,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACnB,oBAAIZ,UAAU,eAAd,SAA8BY,K,yBCEjB,SAASC,EAAT,GAAkD,IAAtBC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,UACjD,OACE,cAAC,WAAD,UACGD,EAAOE,KAAI,gBAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAeC,EAAhC,EAAgCA,KAAhC,OACV,oBAAiBnB,UAAU,mBAA3B,SACE,qBACEoB,QAAS,kBAAML,EAAU,CAAEG,gBAAeC,UAC1CE,IAAKJ,EACLK,IAAKH,EACLnB,UAAU,4BALLuB,Y,UCIFC,EAVA,SAAC,GAAD,IAAGJ,EAAH,EAAGA,QAAH,OACb,wBAAQA,QAASA,EAASjB,KAAK,SAASH,UAAU,UAAlD,wB,MCCa,SAASyB,EAAT,GAAuC,IAAtBb,EAAqB,EAArBA,SAAUc,EAAW,EAAXA,QAClCC,EAAYC,SAASC,cAAc,eAEzCC,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,UAAWC,GAE5B,WACLF,OAAOG,oBAAoB,UAAWD,OAI1C,IAAMA,EAAiB,SAAChC,GACP,WAAXA,EAAEkC,MACJT,KAUJ,OAAOU,uBACL,qBAAKpC,UAAU,UAAUoB,QAPE,SAACnB,GACxBA,EAAEM,gBAAkBN,EAAEoC,QACxBX,KAKF,SACE,qBAAK1B,UAAU,QAAf,SAAwBY,MAE1Be,GCjBW,SAASW,IACtB,MAA8BzC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAwBF,mBAAS,GAAjC,mBAAO0C,EAAP,KAAaC,EAAb,KACA,EAA4B3C,mBAAS,IAArC,mBAAOiB,EAAP,KAAe2B,EAAf,KACA,EAA8B5C,oBAAS,GAAvC,mBAAO6C,EAAP,KAAgBC,EAAhB,KACA,EAAgC9C,mBAAS,MAAzC,mBAAO+C,EAAP,KAAiBC,EAAjB,KACA,EAAsChD,oBAAS,GAA/C,mBAAOiD,EAAP,KAAoBC,EAApB,KAEAjB,qBAAU,WAGR,GAFAa,GAAW,IAEN7C,EAGH,OAFA0C,EAAQ,QACRG,GAAW,ICtBF,SAA4BJ,EAAMS,GAC/C,OAAOC,MAAM,GAAD,OALZ,oEAKY,aACMD,EADN,iBAC0BT,EAD1B,qBAHE,GAGF,gBAPF,uCASRW,MAAK,SAACC,GACN,GAAIA,EAASC,GACX,OAAOD,EAASE,WDqBlBC,CAAmBf,EAAMzC,GACtBoD,KAAKK,GACLC,OAAM,SAACC,GACNC,MAAMD,MAEPE,SAAQ,WACPhB,GAAW,GACPJ,EAAO,GACTR,OAAO6B,SAAS,CACdC,IAAKjC,SAASkC,gBAAgBC,aAC9BC,SAAU,gBAIjB,CAAClE,EAASyC,IAEb,IAAMgB,EAAY,SAAC,GAAc,IAAZU,EAAW,EAAXA,KACC,IAAhBA,EAAKC,OACPR,MAAM,qBAENO,EAAKC,OAAS,GAAKnB,GAAe,GAASA,GAAe,GAC1DN,GAAU,SAAC0B,GAAD,4BAAmBA,GAAnB,YAAiCF,SAc/C,OACE,sBAAKjE,UAAU,MAAf,UACE,cAAC,EAAD,CAAWJ,SAZW,SAACE,GACrBA,EAAQsE,QACV3B,EAAU,IACVD,EAAQ,GACRzC,EAAWD,IAEX4D,MAAM,2BAOL5C,GACC,eAAC,WAAD,WACE,cAAC,EAAD,UACE,cAAC,EAAD,CAAkBA,OAAQA,EAAQC,UAAW8B,MAE9CC,GACC,cAAC,EAAD,CACE1B,QAAS,WACPoB,GAAQ,SAAC2B,GAAD,OAAgBA,EAAa,WAM9CzB,GACC,cAAC,IAAD,CACE1C,UAAU,SACVG,KAAK,YACLkE,MAAM,UACNC,OAAQ,IACRC,MAAO,MAGV3B,GACC,cAAC,EAAD,CAAOlB,QAAS,kBAAMmB,EAAY,OAAlC,SACG,qBAAKxB,IAAKuB,EAAS1B,cAAeI,IAAKsB,EAASzB,YExF3DqD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9C,SAAS+C,eAAe,W","file":"static/js/main.1a3392fd.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Searchbar.scss\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [request, setRequest] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(request);\n    setRequest(\"\");\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form onSubmit={handleSubmit} className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          name=\"request\"\n          autoComplete=\"off\"\n          onChange={(e) => {\n            setRequest(e.currentTarget.value);\n          }}\n          value={request}\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import \"./ImageGallery.scss\";\n\nconst ImageGallery = ({ children }) => (\n  <ul className=\"ImageGallery\">{children}</ul>\n);\n\nexport default ImageGallery;\n","import { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./ImageGalleryItem.scss\";\nimport uuid from \"react-uuid\";\n\nexport default function ImageGalleryItem({ images, openModal }) {\n  return (\n    <Fragment>\n      {images.map(({ webformatURL, largeImageURL, tags }) => (\n        <li key={uuid()} className=\"ImageGalleryItem\">\n          <img\n            onClick={() => openModal({ largeImageURL, tags })}\n            src={webformatURL}\n            alt={tags}\n            className=\"ImageGalleryItem-image\"\n          />\n        </li>\n      ))}\n    </Fragment>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  openModal: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n","import \"./Button.scss\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => (\n  <button onClick={onClick} type=\"button\" className=\"Button \">\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createPortal } from \"react-dom\";\nimport \"./Modal.scss\";\n\nexport default function Modal({ children, onClose }) {\n  const modalRoot = document.querySelector(\"#modal-root\");\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handeleKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handeleKeyDown);\n    };\n  });\n\n  const handeleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const handeleBackDropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handeleBackDropClick}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import React, { Fragment, useState, useEffect } from \"react\";\n\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport \"./App.scss\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n\nimport PicturesApiService from \"./Services/apiService\";\n\nexport default function App() {\n  const [request, setRequest] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [modalImg, setModalImg] = useState(null);\n  const [loadMoreBtn, setLoadMoreBtn] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n\n    if (!request) {\n      setPage(1);\n      setLoading(false);\n      return;\n    }\n\n    PicturesApiService(page, request)\n      .then(addImages)\n      .catch((error) => {\n        alert(error);\n      })\n      .finally(() => {\n        setLoading(false);\n        if (page > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      });\n  }, [request, page]);\n\n  const addImages = ({ hits }) => {\n    if (hits.length === 0) {\n      alert(\"Try another word\");\n    } else {\n      hits.length < 12 ? setLoadMoreBtn(false) : setLoadMoreBtn(true);\n      setImages((prevState) => [...prevState, ...hits]);\n    }\n  };\n\n  const formSubmitHandler = (request) => {\n    if (request.trim()) {\n      setImages([]);\n      setPage(1);\n      setRequest(request);\n    } else {\n      alert(\"Enter search request\");\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={formSubmitHandler} />\n      {images && (\n        <Fragment>\n          <ImageGallery>\n            <ImageGalleryItem images={images} openModal={setModalImg} />\n          </ImageGallery>\n          {loadMoreBtn && (\n            <Button\n              onClick={() => {\n                setPage((prevState) => (prevState += 1));\n              }}\n            />\n          )}\n        </Fragment>\n      )}\n      {loading && (\n        <Loader\n          className=\"loader\"\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={120}\n          width={120}\n        />\n      )}\n      {modalImg && (\n        <Modal onClose={() => setModalImg(null)}>\n          {<img src={modalImg.largeImageURL} alt={modalImg.tags} />}\n        </Modal>\n      )}\n    </div>\n  );\n}\n","const KEY = \"21935547-b3d05227bb87eef1eed42c097\";\nconst BASE_URL =\n  \"https://pixabay.com/api/?image_type=photo&orientation=horizontal&\";\n\nconst perPage = 12;\n\nexport default function PicturesApiService(page, searchQuery) {\n  return fetch(\n    `${BASE_URL}q=${searchQuery}&page=${page}&per_page=${perPage}&key=${KEY}`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}